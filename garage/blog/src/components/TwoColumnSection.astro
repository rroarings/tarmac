---
interface Props {
  title: string;
  content?: string; // HTML content
  description?: string; // Plain text description
  ctaText?: string;
  ctaLink?: string;
  imageSrc?: string;
  imageAlt?: string;
  reversed?: boolean;
  background?: "white" | "gray";
}

const {
  title,
  content,
  description,
  ctaText,
  ctaLink,
  imageSrc,
  imageAlt = "",
  reversed = false,
  background = "white",
} = Astro.props;

const bgClass = background === "gray" ? "bg-gray-50" : "bg-white";
---

<section class={`py-12 ${bgClass}`}>
  <div class="container mx-auto px-4">
    <div
      class={`flex flex-cols-5 lg:flex-row gap-8 items-center ${reversed ? "lg:flex-row-reverse" : ""}`}
    >
      <!-- Text Content -->
      <div class={`flex-1 space-y-6 ${reversed ? "md:pl-8" : "md:pr-8"}`}>
        <h2 class="text-3xl font-bold">{title}</h2>
        {
          content ? (
            <div class="prose prose-lg max-w-none" set:html={content} />
          ) : description ? (
            <p class="text-gray-600">{description}</p>
          ) : null
        }
        {
          ctaText && ctaLink && (
            <a
              href={ctaLink}
              class="inline-flex items-center text-gray-600 hover:text-red-600 transition-colors"
            >
              <span>{ctaText}</span>
              <svg
                class="ml-2 w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                />
              </svg>
            </a>
          )
        }
      </div>

      <!-- Image -->
      <div class="flex-1 flex justify-center">
        {
          imageSrc ? (
            <img
              src={imageSrc}
              alt={imageAlt}
              class="w-full max-w-lg rounded-lg shadow-md object-cover"
              loading="lazy"
            />
          ) : (
            <div class="w-full max-w-lg aspect-video bg-gray-200 flex items-center justify-center rounded shadow">
              <span class="text-gray-400 text-lg">[Placeholder Image]</span>
            </div>
          )
        }
      </div>
    </div>
  </div>
</section>
